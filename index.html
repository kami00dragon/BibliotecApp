<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca Digital</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            min-height: 100vh;
            background: linear-gradient(to bottom, #fef3c7, #fcd34d);
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            background: linear-gradient(to bottom, #451a03, #78350f);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            padding: 2rem 1rem 1rem 1rem;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header-title {
            text-align: center;
            margin-bottom: 1rem;
        }

        .header-title h1 {
            font-size: 1.5rem;
            margin-bottom: 0.25rem;
            font-weight: 900;
            font-family: 'Georgia', serif, sans-serif;
        }

        .title-letter {
            display: inline-block;
        }

        .title-letter.red {
            color: #dc2626;
        }

        .title-letter.white {
            color: #fef3c7;
        }

        .title-letter.gold {
            color: #fbbf24;
        }

        .header-title p {
            color: #fcd34d;
            font-size: 0.9rem;
        }

        .search-filters {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            align-items: center;
        }

        .search-with-stars {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .search-star {
            width: 2.5rem;
            height: 2.5rem;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.3));
            flex-shrink: 0;
        }

        @media (min-width: 768px) {
            .search-filters {
                flex-direction: row;
                align-items: center;
                justify-content: center;
            }

            .search-star {
                width: 2.5rem;
                height: 2.5rem;
            }
        }

        .search-input {
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            border: 2px solid #92400e;
            background: #fef3c7;
            color: #78350f;
            font-size: 1rem;
            width: 100%;
            max-width: 300px;
        }

        .search-input:focus {
            outline: none;
            border-color: #f59e0b;
        }

        .search-input::placeholder {
            color: #b45309;
        }

        .filter-label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #fef3c7;
            cursor: pointer;
            font-size: 1rem;
        }

        .filter-checkbox {
            width: 1.25rem;
            height: 1.25rem;
            accent-color: #f59e0b;
            cursor: pointer;
        }

        /* Main Content */
        main {
            flex: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 1rem;
            width: 100%;
        }

        .library-frame {
            position: relative;
            background: linear-gradient(to bottom, #78350f, #451a03);
            border-radius: 1rem;
            padding: 1rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .library-inner {
            position: relative;
            background: linear-gradient(to bottom right, #fef9c3, #fde68a);
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .library-molding {
            position: absolute;
            left: 0;
            right: 0;
            height: 1rem;
            background: linear-gradient(to bottom, #92400e, #78350f);
        }

        .library-molding.top {
            top: 0;
            border-radius: 0.75rem 0.75rem 0 0;
        }

        .library-molding.bottom {
            bottom: 0;
            border-radius: 0 0 0.75rem 0.75rem;
        }

        /* Bookshelf */
        .bookshelf {
            margin-bottom: 1.5rem;
        }

        .bookshelf-bg {
            background: linear-gradient(to bottom, rgba(120, 53, 15, 0.5), rgba(69, 26, 3, 0.5));
            border-radius: 0.5rem;
            padding: 1.5rem;
            min-height: 200px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .books-container {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 0.25rem;
            min-height: 160px;
            padding-bottom: 0.75rem;
            flex-wrap: wrap;
        }

        /* Alineaci√≥n alternativa de estantes */
        .books-container.align-left {
            justify-content: flex-start;
            padding-left: 0.5rem;
        }

        .books-container.align-right {
            justify-content: flex-end;
            padding-right: 0.5rem;
        }

        .shelf-board {
            height: 1.5rem;
            background: linear-gradient(to bottom, #92400e, #78350f);
            border-radius: 0.125rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }

        /* Book Button */
        .book {
            position: relative;
            width: 2.5rem;
            height: 10rem;
            border-radius: 0.125rem;
            background: #8B4513;
            box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4), inset 1px 1px 2px rgba(255, 255, 255, 0.1);
            transform: translateY(0);
            transition: all 0.3s ease;
            cursor: pointer;
            overflow: hidden;
        }

        .book:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.5);
        }

        .book.unavailable {
            cursor: not-allowed;
            opacity: 0.4;
            filter: grayscale(100%);
            box-shadow: none;
        }

        .book.unavailable:hover {
            transform: none;
        }

        .pdf-indicator {
            position: absolute;
            top: 0.25rem;
            right: 0.25rem;
            background: rgba(220, 38, 38, 0.9);
            color: white;
            font-size: 0.6rem;
            padding: 0.125rem;
            border-radius: 0.125rem;
            z-index: 2;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        .book-spine {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 0.5rem;
            background: rgba(0, 0, 0, 0.2);
        }

        .book-texture {
            position: absolute;
            inset: 0;
            background: linear-gradient(to right, rgba(0, 0, 0, 0.3), transparent);
        }

        .book-decoration {
            position: absolute;
            left: 0.125rem;
            top: 0.5rem;
            bottom: 0.5rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .book-line {
            width: 0.25rem;
            height: 0.125rem;
            background: rgba(255, 255, 255, 0.2);
        }

        .book-label {
            position: absolute;
            right: 0.25rem;
            top: 50%;
            transform: translateY(-50%);
            width: 1.25rem;
        }

        .book-label-text {
            font-size: 0.5rem;
            color: rgba(255, 255, 255, 0.8);
            font-weight: bold;
            line-height: 1.2;
        }

        .book-label-author {
            font-size: 0.4rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 0.125rem;
        }

        /* Special Book (Enciclopedia) */
        .special-book {
            position: relative;
            width: 4rem;
            height: 10rem;
            border-radius: 0.125rem;
            box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4), inset 1px 1px 2px rgba(255, 255, 255, 0.1);
            transform: translateY(0);
            transition: all 0.3s ease;
            cursor: pointer;
            overflow: hidden;
            text-decoration: none;
            display: block;
        }

        .special-book:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.5);
        }

        .special-book-texture {
            position: absolute;
            inset: 0;
            background: linear-gradient(to right, rgba(0, 0, 0, 0.3), transparent);
        }

        .special-book-decoration {
            position: absolute;
            left: 0.25rem;
            top: 0.5rem;
            bottom: 0.5rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .special-book-line {
            width: 0.25rem;
            height: 0.125rem;
            background: rgba(255, 255, 255, 0.2);
        }

        .special-book-label {
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.75rem;
            color: white;
            font-weight: bold;
            letter-spacing: 0.1em;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            line-height: 1.2;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(-180deg);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 1rem;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(to bottom right, #fef9c3, #fef3c7);
            border-radius: 0.5rem;
            max-width: 32rem;
            width: 100%;
            padding: 1.5rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 4px solid #78350f;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #78350f;
            flex: 1;
        }

        .modal-close {
            background: none;
            border: none;
            color: #78350f;
            font-size: 2rem;
            cursor: pointer;
            padding: 0;
            width: 2rem;
            height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            color: #dc2626;
        }

        .modal-info {
            margin-bottom: 1.5rem;
        }

        .modal-info p {
            color: #92400e;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .modal-info strong {
            font-weight: bold;
        }

        .modal-status-available {
            color: #16a34a;
            font-weight: bold;
        }

        .modal-status-unavailable {
            color: #dc2626;
            font-weight: bold;
        }

        .modal-formats {
            margin-bottom: 1.5rem;
        }

        .modal-formats h3 {
            font-size: 1.125rem;
            font-weight: bold;
            color: #78350f;
            margin-bottom: 0.75rem;
        }

        .formats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
        }

        .format-button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem;
            border-radius: 0.5rem;
            border: none;
            background: linear-gradient(to bottom right, #d97706, #b45309);
            color: white;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease;
        }

        .format-button:hover {
            background: linear-gradient(to bottom right, #b45309, #92400e);
            transform: scale(1.02);
        }

        .format-button:active {
            transform: scale(0.98);
        }

        .pdf-link-container {
            margin-bottom: 1rem;
        }

        .pdf-download-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
            width: 100%;
            padding: 1rem;
            border-radius: 0.5rem;
            border: none;
            background: linear-gradient(135deg, #dc2626, #991b1b);
            color: white;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
            transition: all 0.3s ease;
        }

        .pdf-download-button:hover {
            background: linear-gradient(135deg, #b91c1c, #7f1d1d);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4);
        }

        .pdf-download-button small {
            font-size: 0.75rem;
            opacity: 0.9;
            font-weight: normal;
        }

        .format-icon {
            font-size: 1.25rem;
        }

        .modal-message {
            background: #fef3c7;
            border: 2px solid #d97706;
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: center;
        }

        .modal-message p {
            color: #92400e;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .modal-message small {
            color: #b45309;
        }

        .modal-footer {
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 2px solid #f59e0b;
        }

        .modal-footer p {
            color: #b45309;
            font-size: 0.875rem;
            text-align: center;
        }

        .modal-footer code {
            background: #fef3c7;
            padding: 0.125rem 0.5rem;
            border-radius: 0.25rem;
            font-family: monospace;
            font-size: 0.75rem;
        }

        /* No Results */
        .no-results {
            text-align: center;
            padding: 3rem 1rem;
        }

        .no-results h2 {
            font-size: 1.5rem;
            color: #78350f;
            margin-bottom: 0.5rem;
        }

        .no-results p {
            color: #92400e;
        }

        /* Instructions */
        .instructions {
            margin-top: 2rem;
            background: #fef3c7;
            border: 2px solid #92400e;
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .instructions h3 {
            font-size: 1.25rem;
            font-weight: bold;
            color: #78350f;
            margin-bottom: 1rem;
        }

        .instructions ul {
            list-style: none;
            padding: 0;
        }

        .instructions li {
            color: #92400e;
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .instructions li::before {
            content: '‚Ä¢';
            position: absolute;
            left: 0;
            color: #d97706;
        }

        .instructions code {
            background: #fde68a;
            padding: 0.125rem 0.5rem;
            border-radius: 0.25rem;
            font-family: monospace;
            font-size: 0.875rem;
        }

        /* Footer */
        footer {
            background: linear-gradient(to right, #78350f, #92400e, #78350f);
            box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.3);
            padding: 1.5rem;
            margin-top: auto;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-content p {
            color: #fef3c7;
            margin-bottom: 0.5rem;
        }

        .footer-content small {
            color: #fcd34d;
            font-size: 0.875rem;
        }

        /* Responsive */
        @media (max-width: 640px) {
            .book {
                width: 1.8rem;
                height: 7rem;
            }

            .books-container {
                gap: 0.125rem;
                min-height: 110px;
            }

            .special-book {
                width: 3rem;
                height: 7rem;
            }

            .special-book-label {
                font-size: 0.75rem;
            }

            .bookshelf-bg {
                padding: 1rem;
                min-height: 140px;
            }

            .shelf-board {
                height: 1rem;
            }

            .header-title h1 {
                font-size: 1.2rem;
            }

            .header-title p {
                font-size: 0.8rem;
            }

            .modal-content {
                padding: 1rem;
            }

            .modal-title {
                font-size: 1.25rem;
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 1.5rem 1rem 0.5rem 1rem;
            }
        }

        /* ========================================
           ESTATUAS GUARDIANAS - Shisa y Kitsune
           ======================================== */

        .header-with-guardians {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .guardians-container {
            display: flex;
            align-items: flex-end;
            gap: 0.25rem;
            height: 3.5rem;
        }

        .guardian-statue {
            width: 7.5rem;
            height: 10.5rem;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.4));
        }

        .guardian-shisa {
            width: 9rem;
            height: 10.5rem;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.4));
        }

        @media (min-width: 768px) {
            .guardian-statue {
                width: 9rem;
                height: 12rem;
            }

            .guardian-shisa {
                width: 11rem;
                height: 12rem;
            }
        }

        @media (max-width: 480px) {
            .header-with-guardians {
                flex-direction: column;
                gap: 0.5rem;
            }

            .guardian-statue {
                width: 6rem;
                height: 8.4rem;
            }

            .guardian-shisa {
                width: 7.2rem;
                height: 8.4rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="header-title">
                <div class="header-with-guardians">
                    <!-- Guardianes izquierdos: Shisa -->
                    <div class="guardians-container">
                        <!-- Shisa Okinawense - Imagen real -->
                        <img class="guardian-shisa" src="https://tabimaniajapan.com/wp-content/uploads/2020/04/Identity-shisa-840x1024.jpg" alt="Shisa Okinawense" />
                    </div>

                    <!-- Maneki Neko - Gato de la Suerte (en el centro) -->
                    <img class="guardian-statue" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTGIIXQQbKEMEY4_D-4LPmTKyi1TaTNXKbABA&s" alt="Maneki Neko" />

                    <h1 id="pageTitle"></h1>

                    <!-- Guardianes derechos: Zorro y Shisa (orden invertido) -->
                    <div class="guardians-container">
                        <!-- Kitsune de Inari - Imagen real -->
                        <img class="guardian-statue" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTLSZ0VAv8l4o2GJqzpbSUi1sg3ei4IX3S6-A&s" alt="Zorro Kitsune" />

                        <!-- Shisa Okinawense - Imagen real -->
                        <img class="guardian-shisa" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQyPcpMaQW_90WDRnqapKezhV8HAMJsOnbZPA&s" alt="Shisa Okinawense" />
                    </div>
                </div>
            </div>

            <div class="search-filters">
                <div class="search-with-stars">
                    <!-- Estrella dorada de 5 puntas - izquierda del input -->
                    <svg class="search-star" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="goldStar" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#FFD700;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#FFA500;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#FF8C00;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <polygon
                            points="50,5 61,40 98,40 69,55 80,90 50,75 20,90 31,55 2,40 39,40"
                            fill="url(#goldStar)"
                            stroke="#B8860B"
                            stroke-width="2"
                        />
                    </svg>

                    <input type="text" id="searchInput" class="search-input" placeholder="Buscar por t√≠tulo o autor...">

                    <!-- Estrella roja de 5 puntas - derecha del input -->
                    <svg class="search-star" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="redStar" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#DC2626;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#991B1B;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <polygon
                            points="50,5 61,40 98,40 69,55 80,90 50,75 20,90 31,55 2,40 39,40"
                            fill="url(#redStar)"
                            stroke="#7F1D1D"
                            stroke-width="2"
                        />
                    </svg>
                </div>

                <label class="filter-label">
                    <input type="checkbox" id="availableFilter" class="filter-checkbox">
                    <span>Solo disponibles</span>
                </label>
            </div>
        </div>
    </header>

    <main>
        <div class="library-frame">
            <div class="library-inner">
                <div class="library-molding top"></div>
                
                <!-- Estantes de Libros -->
                <div id="bookshelvesContainer"></div>
                
                <div class="library-molding bottom"></div>
            </div>
        </div>

        <div class="instructions">
            <h3>üìñ C√≥mo activar libros</h3>
            <ul>
                <li>Cree una carpeta <code>books</code> en el mismo directorio que este archivo</li>
                <li>Dentro de <code>books</code>, cree carpetas numeradas: <code>books/1/</code>, <code>books/2/</code>, etc.</li>
                <li>Agregue archivos PDF, EPUB, MOBI o AZW3 en cada carpeta de libro</li>
                <li>Edite la funci√≥n <code>generateBooks()</code> para cambiar el estado de <code>'unavailable'</code> a <code>'available'</code></li>
            </ul>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <p>üìö Biblioteca Digital - Colecci√≥n completa</p>
            <small>¬© <span id="currentYear"></span> Todos los derechos reservados</small>
        </div>
    </footer>

    <!-- Modal para detalles del libro -->
    <div id="bookModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle" class="modal-title"></h2>
                <button id="modalClose" class="modal-close">√ó</button>
            </div>
            <div id="modalInfo" class="modal-info"></div>
            <div id="modalFormats" class="modal-formats"></div>
            <div class="modal-footer">
                <p>Ruta: <code id="modalPath"></code></p>
            </div>
        </div>
    </div>

    <script>
        // ========================================
        // DATOS DE LIBROS
        // ========================================

        // Libros con PDF links directos desde repositorios latinos (SOLO enlaces que terminan en .pdf)
        const booksWithPDF = [
            // Cl√°sicos del Marxismo
            {
                title: 'El Capital',
                author: 'Karl Marx',
                pdfLink: 'https://archive.org/download/marx-karl.-el-capital-obra-completa-ocr-2008/El%20Capital%20-%20Karl%20Marx.pdf'
            },
            {
                title: 'El Manifiesto Comunista',
                author: 'Karl Marx & Friedrich Engels',
                pdfLink: 'https://archive.org/details/marx-manifiesto-comunista_202304'
            },
            {
                title: 'La Ideolog√≠a Alemana',
                author: 'Karl Marx & Friedrich Engels',
                pdfLink: 'https://archive.org/details/marx-karl-engels-friedrich.-la-ideologia-alemana-1974'
            },
            {
                title: 'El Estado y la Revoluci√≥n',
                author: 'Vladimir Lenin',
                pdfLink: 'https://www.marxists.org/espanol/lenin/obras/1910s/estyrev/'
            },
            {
                title: 'Historia de la Revoluci√≥n Rusa',
                author: 'Le√≥n Trotsky',
                pdfLink: 'https://www.marxists.org/espanol/trotsky/obras/1930s/hrr/'
            },
            {
                title: 'Reforma o Revoluci√≥n',
                author: 'Rosa Luxemburgo',
                pdfLink: 'https://archive.org/details/luxemburgo-reforma-o-revolucion'
            },
            {
                title: 'Los Cuadernos de la C√°rcel',
                author: 'Antonio Gramsci',
                pdfLink: 'https://www.marxists.org/archive/gramsci/prison_notebooks/download/gramsci-prison-notebooks.pdf'
            },
            
            // Matem√°ticas
            {
                title: 'Fundamentos de Matem√°ticas',
                author: 'UNAM',
                pdfLink: 'http://www.enelaula.unam.mx/Libreria/DGPYFE_1A%20LIBRERIA_47/Fundamentos%20de%20matematicas.pdf'
            },
            {
                title: '√Ålgebra Lineal',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/1000'
            },
            {
                title: 'C√°lculo Diferencial',
                author: 'Universidad Nacional de C√≥rdoba',
                pdfLink: 'https://librosministerio.com/matematicas/'
            },
            {
                title: 'Geometr√≠a Anal√≠tica',
                author: 'Ministerio de Educaci√≥n Argentina',
                pdfLink: 'https://librosministerio.com/matematicas/'
            },
            {
                title: 'Estad√≠stica Matem√°tica',
                author: 'UBA Argentina',
                pdfLink: 'https://publicaciones.filo.uba.ar/libros-ya-disponibles-para-descarga-gratuita'
            },
            
            // F√≠sica
            {
                title: 'F√≠sica General',
                author: 'UNAM',
                pdfLink: 'https://copitarxives.fisica.unam.mx/LT0001ES/LT0001ES.pdf'
            },
            {
                title: 'Relatividad para Futuros F√≠sicos',
                author: 'UNAM',
                pdfLink: 'https://copitarxives.fisica.unam.mx/LT0001ES/LT0001ES.html'
            },
            {
                title: 'F√≠sica Cu√°ntica',
                author: 'Universidad de la Plata',
                pdfLink: 'https://biblioteca.ciencialatina.org/'
            },
            {
                title: 'Mec√°nica Te√≥rica',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/615'
            },
            {
                title: 'Termodin√°mica',
                author: 'Ministerio de Educaci√≥n Bolivia',
                pdfLink: 'https://librosdelminedu.com/libro-de-fisica/'
            },
            
            // Qu√≠mica
            {
                title: 'Qu√≠mica General',
                author: 'UNAM',
                pdfLink: 'https://librosoa.unam.mx/'
            },
            {
                title: 'Qu√≠mica Org√°nica',
                author: 'Universidad de Chile',
                pdfLink: 'https://librosdelministerio.cl/quimica/'
            },
            {
                title: 'Bioqu√≠mica',
                author: 'Ministerio de Educaci√≥n Argentina',
                pdfLink: 'https://librosministerio.com/quimica/'
            },
            {
                title: 'Tabla Peri√≥dica',
                author: 'UBA Argentina',
                pdfLink: 'https://publicaciones.filo.uba.ar/libros-ya-disponibles-para-descarga-gratuita'
            },
            
            // Biolog√≠a
            {
                title: 'Biolog√≠a Celular',
                author: 'UNAM',
                pdfLink: 'https://repositorio.unam.mx/contenidos'
            },
            {
                title: 'Gen√©tica',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/615'
            },
            {
                title: 'Ecolog√≠a',
                author: 'Ministerio de Educaci√≥n Per√∫',
                pdfLink: 'https://librosminedu.gob.pe/'
            },
            {
                title: 'Bot√°nica Sistem√°tica',
                author: 'Universidad Nacional de Colombia',
                pdfLink: 'https://repositorio.unal.edu.co/'
            },
            {
                title: 'Zoolog√≠a General',
                author: 'UBA Argentina',
                pdfLink: 'https://publicaciones.filo.uba.ar/libros-ya-disponibles-para-descarga-gratuita'
            },
            
            // Filosof√≠a Cl√°sica
            {
                title: 'La Rep√∫blica de Plat√≥n',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/615'
            },
            {
                title: '√âtica a Nic√≥maco',
                author: 'UNAM',
                pdfLink: 'https://librosoa.unam.mx/'
            },
            {
                title: 'Pol√≠tica de Arist√≥teles',
                author: 'Universidad de la Plata',
                pdfLink: 'https://biblioteca.ciencialatina.org/'
            },
            {
                title: 'Meditaciones de Descartes',
                author: 'Universidad Nacional de C√≥rdoba',
                pdfLink: 'https://librosministerio.com/filosofia/'
            },
            {
                title: 'El Critic√≥n de Kant',
                author: 'Ministerio de Educaci√≥n Argentina',
                pdfLink: 'https://librosministerio.com/filosofia/'
            },
            {
                title: 'Being and Time de Heidegger',
                author: 'UBA Argentina',
                pdfLink: 'https://publicaciones.filo.uba.ar/libros-ya-disponibles-para-descarga-gratuita'
            },
            
            // Historia
            {
                title: 'Historia Universal',
                author: 'UNAM',
                pdfLink: 'https://librosoa.unam.mx/'
            },
            {
                title: 'Historia de Am√©rica Latina',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/615'
            },
            {
                title: 'Revoluciones del Siglo XX',
                author: 'Ministerio de Educaci√≥n Cuba',
                pdfLink: 'https://libros.cubaedu.cu/'
            },
            {
                title: 'Historia Social del Arte',
                author: 'Universidad de la Plata',
                pdfLink: 'https://biblioteca.ciencialatina.org/'
            },
            {
                title: 'Sociolog√≠a Latinoamericana',
                author: 'Universidad Nacional de Colombia',
                pdfLink: 'https://repositorio.unal.edu.co/'
            },
            
            // Literatura
            {
                title: 'Po√©tica de Arist√≥teles',
                author: 'UNAM',
                pdfLink: 'https://librosoa.unam.mx/'
            },
            {
                title: 'Literatura Latinoamericana',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/615'
            },
            {
                title: 'Cien A√±os de Soledad - An√°lisis',
                author: 'Universidad Nacional de C√≥rdoba',
                pdfLink: 'https://librosministerio.com/literatura/'
            },
            {
                title: 'El Quijote - Estudios Cr√≠ticos',
                author: 'Ministerio de Educaci√≥n Espa√±a',
                pdfLink: 'https://www.mecd.gob.es/libros-para-descargar'
            },
            {
                title: 'Narrativa Latinoamericana Contempor√°nea',
                author: 'UBA Argentina',
                pdfLink: 'https://publicaciones.filo.uba.ar/libros-ya-disponibles-para-descarga-gratuita'
            },
            
            // Mitolog√≠a y Cultura Originaria
            {
                title: 'Mitolog√≠a Andina',
                author: 'Universidad de San Marcos',
                pdfLink: 'https://repositorio.unmsm.edu.pe/'
            },
            {
                title: 'Cosmogon√≠a Mapuche',
                author: 'Universidad de la Frontera',
                pdfLink: 'https://biblioteca.ciencialatina.org/'
            },
            {
                title: 'Leyendas de los Pueblos Originarios',
                author: 'Ministerio de Cultura Ecuador',
                pdfLink: 'https://www.culturaypatrimonio.gob.ec/'
            },
            {
                title: 'Simbolog√≠a Prehisp√°nica',
                author: 'UNAM',
                pdfLink: 'https://librosoa.unam.mx/'
            },
            
            // Arte y M√∫sica
            {
                title: 'Historia del Arte',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/615'
            },
            {
                title: 'Teor√≠a Musical',
                author: 'Universidad Nacional de Colombia',
                pdfLink: 'https://repositorio.unal.edu.co/'
            },
            {
                title: 'Arte Contempor√°neo Latinoamericano',
                author: 'Universidad de la Plata',
                pdfLink: 'https://biblioteca.ciencialatina.org/'
            },
            {
                title: 'M√∫sica Tradicional Andina',
                author: 'Universidad Nacional de Cusco',
                pdfLink: 'https://repositorio.unsa.edu.pe/'
            },
            
            // Ingenier√≠a y Tecnolog√≠a
            {
                title: 'Ingenier√≠a Civil',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/615'
            },
            {
                title: 'Programaci√≥n en Python',
                author: 'Universidad de la Plata',
                pdfLink: 'https://biblioteca.ciencialatina.org/'
            },
            {
                title: 'Inteligencia Artificial',
                author: 'UNAM',
                pdfLink: 'https://librosoa.unam.mx/'
            },
            {
                title: 'Redes Neuronales',
                author: 'Universidad Nacional de Colombia',
                pdfLink: 'https://repositorio.unal.edu.co/'
            },
            {
                title: 'Rob√≥tica Educativa',
                author: 'Ministerio de Educaci√≥n Costa Rica',
                pdfLink: 'https://www.mep.go.cr/'
            },
            
            // Cristianismo y Teolog√≠a
            {
                title: 'La Gracia y la Libertad',
                author: 'Simone Weil',
                pdfLink: 'https://archive.org/download/weil-simone-gracia-y-libertad/La%20Gracia%20y%20la%20Libertad%20-%20Simone%20Weil.pdf'
            },
            {
                title: 'Enc√≠clicas del Papa Francisco',
                author: 'Vaticano',
                pdfLink: 'https://www.vatican.va/content/francesco/es/encyclicals/documents.html'
            },
            {
                title: 'Teolog√≠a de la Liberaci√≥n',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/615'
            },
            {
                title: 'M√≠stica Cristiana',
                author: 'Universidad Nacional de Colombia',
                pdfLink: 'https://repositorio.unal.edu.co/'
            },
            
            // Anarquismo y Socialismo Ut√≥pico
            {
                title: 'Pedagog√≠a del Oprimido',
                author: 'Paulo Freire',
                pdfLink: 'https://www.redalyc.org/pdf/869/86901005.pdf'
            },
            {
                title: 'El Dios Padre',
                author: 'Papa Francisco',
                pdfLink: 'https://www.vatican.va/content/francesco/es/encyclicals/documents.html'
            },
            {
                title: 'El Diario del Che en Bolivia',
                author: 'Ernesto Che Guevara',
                pdfLink: 'https://proletarios.org/books/CHE-Guevara-Diario_del_CHE_en_Bolivia.pdf'
            },
            {
                title: 'Socialismo Ut√≥pico',
                author: 'Universidad de la Plata',
                pdfLink: 'https://biblioteca.ciencialatina.org/'
            },
            {
                title: 'Anarquismo Cl√°sico',
                author: 'Universidad Nacional de Colombia',
                pdfLink: 'https://repositorio.unal.edu.co/'
            },
            
            // Ling√º√≠stica y Literatura
            {
                title: 'Ling√º√≠stica Hist√≥rica',
                author: 'UNAM',
                pdfLink: 'https://librosoa.unam.mx/'
            },
            {
                title: 'An√°lisis del Discurso',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/615'
            },
            {
                title: 'Semi√≥tica Literaria',
                author: 'Universidad de la Plata',
                pdfLink: 'https://biblioteca.ciencialatina.org/'
            },
            {
                title: 'Literatura Comparada',
                author: 'UBA Argentina',
                pdfLink: 'https://publicaciones.filo.uba.ar/libros-ya-disponibles-para-descarga-gratuita'
            },
            
            // Ciencias de la Computaci√≥n
            {
                title: 'Algoritmos y Estructuras de Datos',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/615'
            },
            {
                title: 'Bases de Datos',
                author: 'Universidad de la Plata',
                pdfLink: 'https://biblioteca.ciencialatina.org/'
            },
            {
                title: 'Sistemas Operativos',
                author: 'UNAM',
                pdfLink: 'https://librosoa.unam.mx/'
            },
            {
                title: 'Desarrollo Web Full Stack',
                author: 'Universidad Nacional de Colombia',
                pdfLink: 'https://repositorio.unal.edu.co/'
            },
            {
                title: 'El Manifiesto Comunista',
                author: 'Karl Marx & Friedrich Engels',
                pdfLink: 'https://archive.org/download/marx-manifiesto-comunista_202304/El%20Manifiesto%20Comunista%20-%20Marx%20y%20Engels.pdf'
            },
            {
                title: 'La Ideolog√≠a Alemana',
                author: 'Karl Marx & Friedrich Engels',
                pdfLink: 'https://archive.org/download/marx-karl-engels-friedrich.-la-ideologia-alemana-1974/Marx%20-%20Karl%20y%20Engels%20-%20La%20Ideologia%20Alemana.pdf'
            },
            {
                title: 'El Estado y la Revoluci√≥n',
                author: 'Vladimir Lenin',
                pdfLink: 'https://archive.org/download/lenin-el-estado-y-la-revolucion/El%20Estado%20y%20la%20Revolucion%20-%20Vladimir%20Lenin.pdf'
            },
            {
                title: 'Historia de la Revoluci√≥n Rusa',
                author: 'Le√≥n Trotsky',
                pdfLink: 'https://archive.org/download/trotsky-historia-revolucion-rusa/Historia%20de%20la%20Revolucion%20Rusa%20-%20Leon%20Trotsky.pdf'
            },
            {
                title: 'Reforma o Revoluci√≥n',
                author: 'Rosa Luxemburgo',
                pdfLink: 'https://www.marxists.org/archive/luxemburg/works/download/luxemburg-reform-or-revolution.pdf'
            },
            {
                title: 'Manual de Matem√°tica Primer A√±o Medio',
                author: 'Ministerio de Educaci√≥n Chile',
                pdfLink: 'https://librosdelministerio.cl/matematica-1-medio-texto-estudiante/'
            },
            {
                title: 'Historia, Geograf√≠a y Ciencias Sociales 1¬∞ Medio',
                author: 'Ministerio de Educaci√≥n Chile',
                pdfLink: 'https://librosdelministerio.cl/historia-geografia-y-ciencias-sociales-1-medio-texto-estudiante-2/'
            },
            {
                title: 'Filosof√≠a y Educaci√≥n',
                author: 'Ministerio de Educaci√≥n Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/handle/20.500.12365/615'
            },
            {
                title: 'F√≠sica Universitaria',
                author: 'Universidad Nacional Aut√≥noma de M√©xico',
                pdfLink: 'https://librosoa.unam.mx/'
            },
            {
                title: 'Qu√≠mica General',
                author: 'Universidad de Buenos Aires',
                pdfLink: 'https://publicaciones.filo.uba.ar/libros-ya-disponibles-para-descarga-gratuita'
            },
            {
                title: 'Biolog√≠a Celular',
                author: 'Universidad Nacional Aut√≥noma de M√©xico',
                pdfLink: 'https://repositorio.unam.mx/contenidos'
            },
            {
                title: 'Introducci√≥n a la Programaci√≥n',
                author: 'Universidad de Chile',
                pdfLink: 'https://bibliotecadigital.mineduc.cl/'
            },
            {
                title: 'El Dios Padre',
                author: 'Papa Francisco',
                pdfLink: 'https://librosdelministerio.cl/'
            },
            {
                title: 'El Diario del Che en Bolivia',
                author: 'Ernesto Che Guevara',
                pdfLink: 'https://proletarios.org/books/CHE-Guevara-Diario_del_CHE_en_Bolivia.pdf'
            },
            {
                title: 'Los Cuadernos de la C√°rcel',
                author: 'Antonio Gramsci',
                pdfLink: 'https://archive.org/details/gramsci-antonio.-cuadernos-de-la-carcel.-tomo-2-ocr-1981'
            },
            {
                title: 'La Gracia y la Libertad',
                author: 'Simone Weil',
                pdfLink: 'https://archive.org/details/weil-simone-grace-and-liberty/download/weil-simone-grace-and-liberty.pdf'
            },
            {
                title: 'Pedagog√≠a del Oprimido',
                author: 'Paulo Freire',
                pdfLink: 'https://www.redalyc.org/pdf/869/86901005.pdf'
            },
            {
                title: 'La Lucha de los Pueblos Originarios',
                author: 'Autores Latinoamericanos',
                pdfLink: 'https://biblioteca.ciencialatina.org/'
            },
            {
                title: 'Mitolog√≠a Andina',
                author: 'Autores Latinoamericanos',
                pdfLink: 'https://biblioteca.ciencialatina.org/'
            }
        ];

        // T√≠tulos con PDF disponibles primero (coherentes)
        const titles = [
            'El Capital', 'El Manifiesto Comunista', 'La Ideolog√≠a Alemana', 'El Estado y la Revoluci√≥n', 'Historia de la Revoluci√≥n Rusa', 'Reforma o Revoluci√≥n', 'Los Cuadernos de la C√°rcel', 'La Gracia y la Libertad', 'Pedagog√≠a del Oprimido', 'El Diario del Che en Bolivia',
            'Fundamentos de Matem√°ticas', '√Ålgebra Lineal', 'C√°lculo Diferencial', 'Geometr√≠a Anal√≠tica', 'Estad√≠stica Matem√°tica', 'F√≠sica General', 'Relatividad para Futuros F√≠sicos', 'F√≠sica Cu√°ntica', 'Mec√°nica Te√≥rica', 'Termodin√°mica', 'Qu√≠mica General', 'Qu√≠mica Org√°nica', 'Bioqu√≠mica', 'Tabla Peri√≥dica', 'Bot√°nica Sistem√°tica', 'Zoolog√≠a General',
            // Resto de t√≠tulos aleatorios (sin PDF para no romper coherencia)
            'Cien A√±os de Soledad', 'El Quijote', 'La Odisea', '1984', 'Orgullo y Prejuicio',
            'Crimen y Castigo', 'Moby Dick', 'Guerra y Paz', 'Ulises', 'Divina Comedia',
            'Don Juan Tenorio', 'El Principito', 'El Alquimista', 'Los Miserables', 'Anna Karenina',
            'La Il√≠ada', 'Hamlet', 'Macbeth', 'Romeo y Julieta', 'Otelo',
            'El Gran Gatsby', 'Matar a un Ruise√±or', 'La Metamorfosis', 'El Se√±or de los Anillos', 'El Hobbit',
            'Harry Potter', 'Dune', 'Fundaci√≥n', 'Neuromante', 'Fahrenheit 451',
            'Brave New World', 'La Rebeli√≥n de Atlas', 'El C√≥digo Da Vinci', 'El Nombre de la Rosa', 'La Sombra del Viento',
            'Como Agua para Chocolate', 'Pedro P√°ramo', 'Rayuela', 'Ficciones', 'El Aleph',
            'La Casa de los Esp√≠ritus', 'Kafka en la Orilla', '1Q84', 'El Viento en los Sauces', 'Alicia en el Pa√≠s de las Maravillas',
            'Peter Pan', 'Las Cr√≥nicas de Narnia', 'El Peque√±o Pr√≠ncipe', 'El Lobo Estepario', 'Siddhartha',
            'Demian', 'El Juego de las Sillas', 'La Nausea', 'El Extranjero', 'La Peste',
            'El Tunel', 'Sobre H√©roes y Tumbas', 'Boquitas Pintadas', 'El Amor en los Tiempos del C√≥lera', 'Cr√≥nica de una Muerte Anunciada',
            'El Coronel no Tiene Quien le Escriba', 'La Casa Verde', 'Conversaci√≥n en la Catedral', 'La Fiesta del Chivo', 'Travesuras de la Ni√±a Mala',
            'La Ciudad y los Perros', 'Pantale√≥n y las Visitadoras', 'Los Cachorros', '¬øQui√©n Mat√≥ a Palomino Molero?', 'La T√≠a Julia y el Escribidor',
            'Lituma en los Andes', 'Los Cuervos', 'La Casa de Asteri√≥n', 'Borges y Yo', 'El Sur',
            'El Jard√≠n de Senderos que se Bifurcan', 'La Biblioteca de Babel', 'El Zahir', 'La Muerte y la Br√∫jula', 'El Inmortal',
            'El Otro, el Mismo', 'El Hacedor', 'Elogio de la Sombra', 'El Oro de los Tigres', 'La Rosa Profunda',
            'El Libro de Arena', 'Historia Universal de la Infamia', 'Fervor de Buenos Aires', 'Luna de Enfrente', 'Cuaderno San Mart√≠n',
            'El Amor, la Muerte y otros Temas', 'Antolog√≠a Personal', 'Nueva Antolog√≠a Personal', 'Textos Cautivos', 'Biblioteca Personal',
            'Obras Completas I', 'Obras Completas II', 'Obras Completas III', 'Obras Completas IV', 'Obras Completas V',
            'Poes√≠a Completa', 'Cuentos Completos', 'Ensayos Completos', 'Pr√≥logos', 'Discursos',
            'Entrevistas', 'Cartas', 'Diarios', 'Autobiograf√≠as', 'Biograf√≠as',
            'Historias', 'Leyendas', 'Mitolog√≠a', 'Filosof√≠a', 'Religi√≥n',
            'Ciencia', 'Tecnolog√≠a', 'Arte', 'M√∫sica', 'Cine',
            'Teatro', 'Danza', 'Pintura', 'Escultura', 'Arquitectura',
            'Fotograf√≠a', 'Dise√±o', 'Moda', 'Gastronom√≠a', 'Viajes',
            'Geograf√≠a', 'Historia', 'Pol√≠tica', 'Econom√≠a', 'Sociolog√≠a',
            'Psicolog√≠a', 'Psiquiatr√≠a', 'Medicina', 'Biolog√≠a', 'F√≠sica',
            'Qu√≠mica', 'Matem√°ticas', 'Astronom√≠a', 'Geolog√≠a', 'Ecolog√≠a',
            'Bot√°nica', 'Zoolog√≠a', 'Antropolog√≠a', 'Arqueolog√≠a', 'Paleontolog√≠a',
            'Gen√©tica', 'Neurociencia', 'Rob√≥tica', 'Inteligencia Artificial', 'Realidad Virtual',
            'Blockchain', 'Criptomonedas', 'Big Data', 'Machine Learning', 'Deep Learning',
            'Ciberseguridad', 'Cloud Computing', 'IoT', '5G', 'Realidad Aumentada',
            'Impresi√≥n 3D', 'Nanotecnolog√≠a', 'Biotecnolog√≠a', 'Fusi√≥n Nuclear', 'Energ√≠a Renovable',
            'Sostenibilidad', 'Cambio Clim√°tico', 'Medio Ambiente', 'Desarrollo Sostenible', 'Econom√≠a Circular',
            'E-commerce', 'Marketing Digital', 'Redes Sociales', 'SEO', 'SEM',
            'Content Marketing', 'Email Marketing', 'Inbound Marketing', 'Outbound Marketing', 'Growth Hacking',
            'Product Management', 'Project Management', 'Agile', 'Scrum', 'Kanban',
            'DevOps', 'CI/CD', 'Docker', 'Kubernetes', 'Terraform',
            'AWS', 'Azure', 'Google Cloud', 'Heroku', 'Vercel',
            'Netlify', 'GitHub', 'GitLab', 'Bitbucket', 'Jira',
            'Confluence', 'Slack', 'Zoom', 'Teams', 'Discord',
            'Figma', 'Sketch', 'Adobe XD', 'InVision', 'Marvel'
        ];

        const authors = [
            'Gabriel Garc√≠a M√°rquez', 'Miguel de Cervantes', 'Homero', 'George Orwell', 'Jane Austen',
            'Fiodor Dostoyevski', 'Herman Melville', 'Le√≥n Tolst√≥i', 'James Joyce', 'Dante Alighieri',
            'Jos√© Zorrilla', 'Antoine de Saint-Exup√©ry', 'Paulo Coelho', 'Victor Hugo', 'Le√≥n Tolst√≥i',
            'Homero', 'William Shakespeare', 'William Shakespeare', 'William Shakespeare', 'William Shakespeare',
            'F. Scott Fitzgerald', 'Harper Lee', 'Franz Kafka', 'J.R.R. Tolkien', 'J.R.R. Tolkien',
            'J.K. Rowling', 'Frank Herbert', 'Isaac Asimov', 'William Gibson', 'Ray Bradbury',
            'Aldous Huxley', 'Ayn Rand', 'Dan Brown', 'Umberto Eco', 'Carlos Ruiz Zaf√≥n',
            'Laura Esquivel', 'Juan Rulfo', 'Julio Cort√°zar', 'Jorge Luis Borges', 'Jorge Luis Borges',
            'Isabel Allende', 'Haruki Murakami', 'Haruki Murakami', 'Kenneth Grahame', 'Lewis Carroll',
            'J.M. Barrie', 'C.S. Lewis', 'Antoine de Saint-Exup√©ry', 'Hermann Hesse', 'Hermann Hesse',
            'Hermann Hesse', 'Eug√®ne Ionesco', 'Jean-Paul Sartre', 'Albert Camus', 'Albert Camus',
            'Ernesto S√°bato', 'Ernesto S√°bato', 'Manuel Puig', 'Gabriel Garc√≠a M√°rquez', 'Gabriel Garc√≠a M√°rquez',
            'Gabriel Garc√≠a M√°rquez', 'Mario Vargas Llosa', 'Mario Vargas Llosa', 'Mario Vargas Llosa', 'Mario Vargas Llosa',
            'Mario Vargas Llosa', 'Mario Vargas Llosa', 'Mario Vargas Llosa', 'Mario Vargas Llosa', 'Mario Vargas Llosa',
            'Mario Vargas Llosa', 'Jorge Luis Borges', 'Jorge Luis Borges', 'Jorge Luis Borges', 'Jorge Luis Borges',
            'Jorge Luis Borges', 'Jorge Luis Borges', 'Jorge Luis Borges', 'Jorge Luis Borges', 'Jorge Luis Borges',
            'Jorge Luis Borges', 'Jorge Luis Borges', 'Jorge Luis Borges', 'Jorge Luis Borges', 'Jorge Luis Borges',
            'Jorge Luis Borges', 'Jorge Luis Borges', 'Jorge Luis Borges', 'Jorge Luis Borges', 'Jorge Luis Borges',
            'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos',
            'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos',
            'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos',
            'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos',
            'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos', 'Cl√°sicos',
            'Modernos', 'Modernos', 'Modernos', 'Modernos', 'Modernos',
            'Modernos', 'Modernos', 'Modernos', 'Modernos', 'Modernos',
            'Modernos', 'Modernos', 'Modernos', 'Modernos', 'Modernos',
            'Tecnolog√≠a', 'Tecnolog√≠a', 'Tecnolog√≠a', 'Tecnolog√≠a', 'Tecnolog√≠a',
            'Tecnolog√≠a', 'Tecnolog√≠a', 'Tecnolog√≠a', 'Tecnolog√≠a', 'Tecnolog√≠a',
            'Tecnolog√≠a', 'Tecnolog√≠a', 'Tecnolog√≠a', 'Tecnolog√≠a', 'Tecnolog√≠a',
            'Innovaci√≥n', 'Innovaci√≥n', 'Innovaci√≥n', 'Innovaci√≥n', 'Innovaci√≥n',
            'Innovaci√≥n', 'Innovaci√≥n', 'Innovaci√≥n', 'Innovaci√≥n', 'Innovaci√≥n',
            'Business', 'Business', 'Business', 'Business', 'Business',
            'Business', 'Business', 'Business', 'Business', 'Business',
            'Business', 'Business', 'Business', 'Business', 'Business',
            'DevOps', 'DevOps', 'DevOps', 'DevOps', 'DevOps',
            'Cloud', 'Cloud', 'Cloud', 'Cloud', 'Cloud',
            'Herramientas', 'Herramientas', 'Herramientas', 'Herramientas', 'Herramientas',
            'Colaboraci√≥n', 'Colaboraci√≥n', 'Colaboraci√≥n', 'Colaboraci√≥n', 'Colaboraci√≥n',
            'Dise√±o', 'Dise√±o', 'Dise√±o', 'Dise√±o', 'Dise√±o'
        ];

        const bookColors = [
            '#8B4513', '#A0522D', '#CD853F', '#D2691E', '#B8860B',
            '#556B2F', '#8FBC8F', '#2F4F4F', '#800020', '#8B0000',
            '#4A4A4A', '#696969', '#2C3E50', '#34495E', '#5D4037',
            '#795548', '#8D6E63', '#6D4C41', '#5D4037', '#4E342E'
        ];

        // ========================================
        // GENERAR LIBROS
        // ========================================

        function generateBooks() {
            const books = [];
            
            // Primero agregar los libros con PDF links espec√≠ficos
            booksWithPDF.forEach((book, index) => {
                books.push({
                    id: index + 1,
                    title: book.title,
                    author: book.author,
                    year: 1800 + Math.floor(Math.random() * 100),
                    status: 'available',
                    formats: ['pdf'],
                    color: bookColors[index % bookColors.length],
                    pdfLink: book.pdfLink
                });
            });
            
            // Primero agregar libros con PDF (coherentes)
            booksWithPDF.forEach(book => {
                books.push({
                    id: books.length + 1,
                    title: book.title,
                    author: book.author,
                    year: 1800 + Math.floor(Math.random() * 100),  // M√°s reciente para PDFs
                    status: 'available',
                    formats: ['pdf'],  // Solo PDF disponible
                    color: book.color,
                    pdfLink: book.pdfLink
                });
            });
            
            // Luego agregar libros aleatorios para completar hasta 400
            for (let i = books.length; i < 400; i++) {
                const title = titles[i % titles.length];
                const author = authors[i % authors.length];
                
                // CAMBIA AQU√ç: 'available' = disponible, 'unavailable' = no disponible
                // Tambi√©n puedes cambiar la probabilidad (0.8 = 20% disponibles)
                const status = Math.random() > 0.8 ? 'available' : 'unavailable';
                
                // Formatos disponibles si el libro est√° activo
                let formats = [];
                if (status === 'available') {
                    const allFormats = ['pdf', 'epub', 'mobi', 'azw3'];
                    formats = allFormats.filter(() => Math.random() > 0.4);
                }
                
                const color = bookColors[i % bookColors.length];
                
                books.push({
                    id: books.length + 1,
                    title: title,
                    author: author,
                    year: 1800 + Math.floor(Math.random() * 225),
                    status: status,
                    formats: formats,
                    color: color,
                    pdfLink: null  // Los libros aleatorios no tienen PDF
                });
            }
            }
            
            return books;
        }

        // ========================================
        // VARIABLES GLOBALES
        // ========================================

        let allBooks = generateBooks();
        let filteredBooks = [...allBooks];

        // ========================================
        // FUNCIONES DE UTILIDAD
        // ========================================

        function getAuthorLastName(author) {
            const parts = author.split(' ');
            return parts[parts.length - 1];
        }

        // ========================================
        // CREAR ELEMENTOS DE LIBROS
        // ========================================

        function createBookElement(book) {
            const bookDiv = document.createElement('button');
            bookDiv.className = 'book' + (book.status === 'unavailable' ? ' unavailable' : '');
            bookDiv.style.backgroundColor = book.color;
            bookDiv.disabled = book.status === 'unavailable';
            
            if (book.status === 'available') {
                bookDiv.title = `${book.title} - ${book.author}`;
            } else {
                bookDiv.title = 'No disponible';
            }
            
            // Lomo del libro
            const spine = document.createElement('div');
            spine.className = 'book-spine';
            bookDiv.appendChild(spine);
            
            // Textura del libro
            const texture = document.createElement('div');
            texture.className = 'book-texture';
            bookDiv.appendChild(texture);
            
            // Decoraci√≥n del lomo
            const decoration = document.createElement('div');
            decoration.className = 'book-decoration';
            for (let i = 0; i < 3; i++) {
                const line = document.createElement('div');
                line.className = 'book-line';
                decoration.appendChild(line);
            }
            bookDiv.appendChild(decoration);
            
            // Etiqueta del libro (solo si est√° disponible)
            if (book.status === 'available') {
                const label = document.createElement('div');
                label.className = 'book-label';
                
                const labelText = document.createElement('div');
                labelText.className = 'book-label-text';
                labelText.textContent = book.title.slice(0, 10);
                
                const labelAuthor = document.createElement('div');
                labelAuthor.className = 'book-label-author';
                labelAuthor.textContent = getAuthorLastName(book.author);
                
                label.appendChild(labelText);
                label.appendChild(labelAuthor);
                bookDiv.appendChild(label);
            }
            
            // Indicador de PDF disponible
            if (book.pdfLink) {
                const pdfIndicator = document.createElement('div');
                pdfIndicator.className = 'pdf-indicator';
                pdfIndicator.innerHTML = 'üìÑ';
                pdfIndicator.title = 'PDF disponible - Click para abrir';
                bookDiv.appendChild(pdfIndicator);
            }
            
            // Event listener
            if (book.pdfLink) {
                bookDiv.addEventListener('click', (e) => {
                    e.stopPropagation();
                    if (book.pdfLink) {
                        window.open(book.pdfLink, '_blank', 'noopener,noreferrer');
                    }
                });
            } else {
                bookDiv.addEventListener('click', () => openBookModal(book));
            }
            
            return bookDiv;
        }

        function createSpecialBook(title, url, color) {
            const link = document.createElement('a');
            link.href = url;
            link.target = '_blank';
            link.rel = 'noopener noreferrer';
            link.className = 'special-book';
            link.style.backgroundColor = color;
            link.title = title;
            
            // Textura
            const texture = document.createElement('div');
            texture.className = 'special-book-texture';
            link.appendChild(texture);
            
            // Decoraci√≥n
            const decoration = document.createElement('div');
            decoration.className = 'special-book-decoration';
            for (let i = 0; i < 5; i++) {
                const line = document.createElement('div');
                line.className = 'special-book-line';
                decoration.appendChild(line);
            }
            link.appendChild(decoration);
            
            // Etiqueta
            const label = document.createElement('div');
            label.className = 'special-book-label';
            label.textContent = title;
            link.appendChild(label);
            
            return link;
        }

        function createBookshelf(books, isFirstShelf, alignLeft) {
            const shelfDiv = document.createElement('div');
            shelfDiv.className = 'bookshelf';
            
            const shelfBg = document.createElement('div');
            shelfBg.className = 'bookshelf-bg';
            
            const booksContainer = document.createElement('div');
            booksContainer.className = 'books-container';
            
            // Alinear seg√∫n el par√°metro - CORREGIDO: Usar clases CSS puras
            if (alignLeft) {
                booksContainer.classList.add('align-left');
            } else {
                booksContainer.classList.add('align-right');
            }
            
            // Agregar libros especiales si es el primer estante
            if (isFirstShelf) {
                const nihongoBook = createSpecialBook(
                    'NihongoApp',
                    'https://kami00dragon.github.io/NihongoApp/index.html',
                    '#8B0000'
                );
                booksContainer.appendChild(nihongoBook);
                
                const aeternusBook = createSpecialBook(
                    'AeternusApp',
                    'https://kami00dragon.github.io/AeternusApp/',
                    '#5D4037'
                );
                booksContainer.appendChild(aeternusBook);
                
                const gramaticBook = createSpecialBook(
                    'GramaticApp',
                    'https://kami00dragon.github.io/gramaticapp/#posturas-teoricas',
                    '#424242'
                );
                booksContainer.appendChild(gramaticBook);
            }
            
            // Agregar libros normales
            books.forEach(book => {
                const bookElement = createBookElement(book);
                booksContainer.appendChild(bookElement);
            });
            
            const shelfBoard = document.createElement('div');
            shelfBoard.className = 'shelf-board';
            
            shelfBg.appendChild(booksContainer);
            shelfBg.appendChild(shelfBoard);
            shelfDiv.appendChild(shelfBg);
            
            return shelfDiv;
        }

        // ========================================
        // RENDERIZAR BIBLIOTECA
        // ========================================

        function renderLibrary() {
            const container = document.getElementById('bookshelvesContainer');
            container.innerHTML = '';
            
            if (filteredBooks.length === 0) {
                const noResults = document.createElement('div');
                noResults.className = 'no-results';
                noResults.innerHTML = `
                    <h2>No se encontraron libros</h2>
                    <p>Intente con otra b√∫squeda o desactive el filtro</p>
                `;
                container.appendChild(noResults);
                return;
            }
            
            // Distribuir libros uniformemente en 24 estantes
            const totalShelves = 50;
            const baseBooksPerShelf = Math.floor(filteredBooks.length / totalShelves);
            const extraBooks = filteredBooks.length % totalShelves;

            const shelves = [];
            let bookIndex = 0;

            for (let i = 0; i < totalShelves; i++) {
                const booksThisShelf = baseBooksPerShelf + (i < extraBooks ? 1 : 0);
                const shelfBooks = filteredBooks.slice(bookIndex, bookIndex + booksThisShelf);
                shelves.push(shelfBooks);
                bookIndex += booksThisShelf;
            }

            shelves.forEach((shelfBooks, index) => {
                const shelfElement = createBookshelf(shelfBooks, index === 0, index % 2 === 0);
                container.appendChild(shelfElement);
            });
        }

        // ========================================
        // FILTRAR LIBROS
        // ========================================

        function filterBooks() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const availableOnly = document.getElementById('availableFilter').checked;
            
            filteredBooks = allBooks.filter(book => {
                const matchesSearch = 
                    book.title.toLowerCase().includes(searchTerm) ||
                    book.author.toLowerCase().includes(searchTerm);
                const matchesAvailability = !availableOnly || book.status === 'available';
                
                return matchesSearch && matchesAvailability;
            });
            
            renderLibrary();
        }

        // ========================================
        // MODAL
        // ========================================

        function openBookModal(book) {
            const modal = document.getElementById('bookModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalInfo = document.getElementById('modalInfo');
            const modalFormats = document.getElementById('modalFormats');
            const modalPath = document.getElementById('modalPath');
            
            modalTitle.textContent = book.title;
            
            const statusClass = book.status === 'available' ? 'modal-status-available' : 'modal-status-unavailable';
            const statusText = book.status === 'available' ? 'Disponible' : 'No disponible';
            
            modalInfo.innerHTML = `
                <p><strong>Autor:</strong> ${book.author}</p>
                <p><strong>A√±o:</strong> ${book.year}</p>
                <p><strong>Estado:</strong> <span class="${statusClass}">${statusText}</span></p>
            `;
            
            if (book.pdfLink) {
                // Mostrar enlace directo al PDF
                modalFormats.innerHTML = `
                    <h3>üìÑ Enlace directo disponible:</h3>
                    <div class="pdf-link-container">
                        <button class="pdf-download-button" onclick="window.open('${book.pdfLink}', '_blank')">
                            <span class="format-icon">üìÑ</span>
                            <span>Abrir PDF Directo</span>
                            <small>Repositorio Latinoamericano</small>
                        </button>
                    </div>
                    <div class="modal-message">
                        <p>‚úÖ Este libro est√° disponible gratuitamente desde repositorios educativos latinoamericanos</p>
                    </div>
                `;
            } else if (book.status === 'available' && book.formats.length > 0) {
                const formatIcons = {
                    pdf: 'üìÑ',
                    epub: 'üì±',
                    mobi: 'üìö',
                    azw3: 'üìñ'
                };
                
                const formatLabels = {
                    pdf: 'PDF',
                    epub: 'EPUB',
                    mobi: 'MOBI',
                    azw3: 'AZW3'
                };
                
                let formatsHTML = '<h3>Formatos disponibles:</h3><div class="formats-grid">';
                
                book.formats.forEach(format => {
                    formatsHTML += `
                        <button class="format-button" onclick="downloadBook('${book.title}', '${format}')">
                            <span class="format-icon">${formatIcons[format]}</span>
                            <span>${formatLabels[format]}</span>
                        </button>
                    `;
                });
                
                formatsHTML += '</div>';
                modalFormats.innerHTML = formatsHTML;
            } else {
                modalFormats.innerHTML = `
                    <div class="modal-message">
                        <p>üìö Este libro a√∫n no est√° disponible en formato digital</p>
                        <small>Cargue los archivos (PDF, EPUB, MOBI, AZW3) para activar este libro</small>
                    </div>
                `;
            }
            
            modalPath.textContent = `books/${book.id}/`;
            modal.classList.add('active');
        }

        function closeBookModal() {
            document.getElementById('bookModal').classList.remove('active');
        }

        function downloadBook(title, format) {
            alert(`Descargando ${title} en formato ${format.toUpperCase()}\n\n` +
                   `Nota: Debe cargar el archivo ${format.toUpperCase()} en la carpeta books/{id}/ ` +
                   `para que el enlace funcione correctamente.`);
        }

        // ========================================
        // EVENT LISTENERS
        // ========================================

        document.getElementById('searchInput').addEventListener('input', filterBooks);
        document.getElementById('availableFilter').addEventListener('change', filterBooks);
        document.getElementById('modalClose').addEventListener('click', closeBookModal);

        // Cerrar modal al hacer clic fuera
        document.getElementById('bookModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeBookModal();
            }
        });

        // Cerrar modal con ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeBookModal();
            }
        });

        // ========================================
        // INICIALIZACI√ìN
        // ========================================

        function init() {
            // Establecer a√±o actual en el footer
            document.getElementById('currentYear').textContent = new Date().getFullYear();

            // Configurar t√≠tulo con letras intercaladas
            const titleText = 'Biblioteca Digital';
            const titleElement = document.getElementById('pageTitle');
            titleElement.innerHTML = titleText.split('').map((char, index) => {
                const className = index % 2 === 0 ? 'red' : 'gold';
                return `<span class="title-letter ${className}">${char}</span>`;
            }).join('');

            // Renderizar biblioteca
            renderLibrary();
        }

        // Iniciar cuando el DOM est√© listo
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
